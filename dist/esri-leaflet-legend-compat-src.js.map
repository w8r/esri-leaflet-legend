{"version":3,"sources":["../src/Util.js","../src/Services/MapService.js","../src/Services/FeatureLayer.js","../src/Tasks/Legend.js","../src/Tasks/Legend/SymbolLegend.js","../src/Tasks/Legend/SymbolRenderer.js","../src/Layers/DynamicMapLayer.js","../src/Layers/FeatureLayer/FeatureLayer.js","../src/Controls/Legend.js"],"names":[],"mappings":"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","file":"esri-leaflet-legend-compat-src.js","sourcesContent":["/**\n * @example\n * <code>\n * L.esri.Util.queue(\n *   [1, 2, 3], [], function(curr, item, cb){\n *     setTimeout(function(){\n *       cb(null, curr.concat([item + 10]));\n *     }, 200);\n *   }, function(err, result) {\n *     console.log(result); // [11, 12, 13]\n * });\n * </code>\n * @param  {Array.<*>} values\n * @param  {*}         initial\n * @param  {Function}  fn       process item fn(memo, item, callback)\n * @param  {Function}  done     queue complete\n * @param  {*=}        context\n */\nEsriLeaflet.Util.reduce = function(values, initial, fn, cb, context) {\n  var curr = initial;\n\n  function next(index) {\n    var sync = true;\n    for (var i = index; i < values.length; i++) {\n      var done = false;\n      fn(curr, values[i], function(err, val) {\n        if (err) {\n          return cb.call(context, err, curr);\n        }\n        done = true;\n        curr = val;\n        if (!sync) {\n          next(i + 1);\n        }\n      });\n      sync = done;\n      if (!sync) {\n        return;\n      }\n    }\n    cb.call(context, null, curr);\n  }\n\n  next(0);\n};\n","EsriLeaflet.MapService.include({\n\n  legend: function(callback, context) {\n    return new EsriLeaflet.Legend(this).run(callback, context);\n  }\n\n});\n","EsriLeaflet.FeatureLayerService.include({\n\n  legend: function(callback, context) {\n    return new L.esri.Legend(this).run(callback, context);\n  }\n\n});\n","EsriLeaflet.Legend = EsriLeaflet.Task.extend({\n  path: 'legend',\n\n  params: {\n    f: 'json'\n  },\n\n  run: function(callback, context) {\n    if (this._service) {\n      return this._service.request(this.path, this.params, callback, context);\n    } else {\n      return this._request('request', this.path, this.params, callback, context);\n    }\n  }\n\n});\n\nEsriLeaflet.legend = function(params) {\n  return new EsriLeaflet.Legend(params);\n};\n","EsriLeaflet.Legend.include({\n\n  initialize: function(endpoint) {\n    this._renderer = new EsriLeaflet.Legend.SymbolRenderer();\n    EsriLeaflet.Task.prototype.initialize.call(this, endpoint);\n  },\n\n  run: function(callback, context) {\n    function cb(error, response) {\n      if (error && error.code === 400) { // ArcGIS server >=10.0\n        this._collectLegendFromLayers(callback, context);\n      } else if (response && response.drawingInfo) {\n        this._symbolsToLegends([response], function(err, result) {\n          callback.call(context, err, {\n            layers: result\n          });\n        });\n      } else {\n        callback.call(context, error, response);\n      }\n    }\n\n    if (this._service) {\n      return this._service.request(this.path, this.params, cb, this);\n    } else {\n      return this._request('request', this.path, this.params, cb, this);\n    }\n  },\n\n  _collectLegendFromLayers: function(callback, context) {\n    this._service.metadata(function(error, response) {\n      if (error) {\n        return callback.call(context, error);\n      }\n\n      var layers = [];\n      for (var i = 0, len = response.layers.length; i < len; i++) {\n        if (!response.layers[i].subLayerIds) {\n          layers.push(response.layers[i]);\n        }\n      }\n\n      this._getLayersLegends(layers, function(err, layerData) {\n        if (err) {\n          callback.call(context, err);\n        } else {\n          this._symbolsToLegends(layerData, function(err, result) {\n            callback.call(context, err, {\n              layers: result\n            });\n          });\n        }\n      }, this);\n    }, this);\n  },\n\n  _getLayersLegends: function(layerDefs, callback, context) {\n    var layerData = [];\n    var self = this;\n\n    EsriLeaflet.Util.reduce(layerDefs, [], function(curr, layer, cb) {\n      self._getLayerLegend(layer, function(err, data) {\n        if (err) {\n          return cb(err, null);\n        }\n        cb(null, curr.concat(data));\n      }, self);\n    }, function(err, result) {\n      callback.call(context, err, result);\n    });\n  },\n\n  _getLayerLegend: function(layer, callback, context) {\n    this._service.request(layer.id, {\n      f: 'json'\n    }, callback, context);\n  },\n\n  _symbolsToLegends: function(layerData, callback, context) {\n    var self = this;\n    EsriLeaflet.Util.reduce(layerData, [], function(curr, layer, cb) {\n      self._drawingInfoToLegend(layer.drawingInfo, function(err, legend) {\n        if (err) {\n          return cb(err, null);\n        }\n        cb(null, curr.concat([{\n          layerId: layer.id,\n          layerType: layer.type,\n          layerName: layer.name,\n          maxScale: layer.maxScale,\n          minScale: layer.minScale,\n          legend: legend\n        }]));\n      }, self);\n    }, function(err, result) {\n      callback.call(context, err, result);\n    });\n  },\n\n  _getRendererSymbols: function(renderer) {\n    var symbols;\n    if (renderer.type === 'uniqueValue') {\n      symbols = renderer.uniqueValueInfos.slice();\n    } else if (renderer.type === 'classBreaks') {\n      symbols = renderer.classBreakInfos.slice();\n    } else if (renderer.type === 'simple') {\n      symbols = [{\n        symbol: renderer.symbol,\n        label: renderer.label,\n        description: renderer.description,\n        value: renderer.value\n      }];\n    }\n    if (renderer.defaultSymbol) {\n      symbols.push({\n        symbol: renderer.defaultSymbol,\n        label: renderer.defaultLabel,\n        description: '',\n        value: null\n      });\n    }\n    return symbols;\n  },\n\n  _drawingInfoToLegend: function(drawingInfo, callback, context) {\n    var self = this;\n    EsriLeaflet.Util.reduce(\n      this._getRendererSymbols(drawingInfo.renderer), [],\n      function(curr, symbol, cb) {\n        self._renderSymbol(symbol, function(err, image) {\n          if (err) {\n            return cb(err, curr);\n          }\n          cb(null, curr.concat([{\n            label: symbol.label,\n            height: image.height,\n            url: symbol.symbol.url,\n            imageData: image.imageData,\n            contentType: image.contentType,\n            width: image.width,\n            values: [symbol.value || '']\n          }]));\n        }, self);\n      },\n      function(err, legend) {\n        callback.call(context, err, legend);\n      });\n  },\n\n  _renderSymbol: function(symbol, callback, context) {\n    return this._renderer.render(symbol.symbol, callback, context);\n  }\n\n});\n","EsriLeaflet.Legend.SymbolRenderer = L.Class.extend({\n\n  statics: {\n    SYMBOL_TYPES: {\n      MARKER: 'esriSMS',\n      LINE: 'esriSLS',\n      FILL: 'esriSFS',\n      PICTURE_MARKER: 'esriPMS',\n      PICTURE_FILL: 'esriPFS',\n      TEXT: 'esriTS'\n    },\n    DEFAULT_SIZE: 20\n  },\n\n  render: function(symbol, callback, context) {\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var imageData = symbol.imageData;\n    this._setSize(canvas, symbol);\n\n    function done(error, imageData) {\n      if (error) {\n        callback.call(context, error);\n      } else {\n        callback.call(context, null, {\n          width: canvas.width || EsriLeaflet.Tasks.Legend.SymbolRenderer.DEFAULT_SIZE,\n          height: canvas.height || EsriLeaflet.Tasks.Legend.SymbolRenderer.DEFAULT_SIZE,\n          imageData: imageData.replace('data:image/png;base64,', ''),\n          url: null,\n          contentType: 'image/png'\n        });\n      }\n    }\n\n    if (symbol.imageData) {\n      return done(null, symbol.imageData);\n    }\n\n    switch (symbol.type) {\n      case 'esriSMS':\n        this._renderMarker(ctx, symbol, done);\n        break;\n      case 'esriSLS':\n        this._renderLine(ctx, symbol, done);\n        break;\n      case 'esriSFS':\n        this._renderFill(ctx, symbol, done);\n        break;\n      case 'esriPMS':\n        this._renderImageMarker(ctx, symbol, done);\n        break;\n      case 'esriPFS':\n        this._renderImageFill(ctx, symbol, done);\n        break;\n      case 'esriST':\n        this._renderText(ctx, symbol, done);\n        break;\n      default:\n        break;\n    }\n  },\n\n  _renderText: function(ctx, symbol, callback) {\n    callback(null, ctx.canvas.toDataURL());\n  },\n\n  _renderFill: function(ctx, symbol, callback) {\n    var size = EsriLeaflet.Tasks.Legend.SymbolRenderer.DEFAULT_SIZE;\n    var lineWidth = symbol.outline ? symbol.outline.width : 1;\n    var lineOffset = Math.max(5, lineWidth * 3);\n    switch (symbol.style) {\n\n      case 'esriSFSVertical':\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        break;\n\n      case 'esriSFSHorizontal':\n        this._setRotation(ctx, 90);\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        break;\n\n      case 'esriSFSBackwardDiagonal':\n        this._setRotation(ctx, -45);\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        break;\n\n      case 'esriSFSForwardDiagonal':\n        this._setRotation(ctx, 45);\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        break;\n\n      case 'esriSFSCross':\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        this._setRotation(ctx, 90);\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        break;\n\n      case 'esriSFSDiagonalCross':\n        this._setRotation(ctx, 45);\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        this._setRotation(ctx, 45);\n        this._hatchCanvas(ctx, size, symbol.color, lineWidth, lineOffset);\n        break;\n\n      case 'esriSFSSolid':\n        ctx.fillStyle = this._formatColor(symbol.color);\n        ctx.fillRect(0, 0, size, size);\n        break;\n\n      case 'esriSFSNull':\n        break;\n\n      default:\n        throw new Error('Unknown SFS style: ' + symbol.style);\n    }\n\n    if (symbol.outline) {\n      ctx.strokeStyle = this._formatColor(symbol.outline.color);\n      ctx.lineWidth = symbol.outline.width;\n      ctx.fillStyle = this._formatColor([0, 0, 0, 0]);\n      this._setDashArray(ctx, symbol.outline);\n      ctx.rect(symbol.outline.width, symbol.outline.width,\n        size - symbol.outline.width, size - symbol.outline.width);\n      ctx.stroke();\n    }\n\n    callback(null, ctx.canvas.toDataURL());\n  },\n\n  _renderLine: function(ctx, symbol, callback) {\n    var size = EsriLeaflet.Legend.SymbolRenderer.DEFAULT_SIZE;\n    ctx.beginPath();\n    ctx.lineWidth = symbol.width;\n    ctx.strokeStyle = this._formatColor(symbol.color);\n    this._setDashArray(ctx, symbol); //\n\n    ctx.moveTo(0, size / 2);\n    ctx.lineTo(size, size / 2);\n\n    ctx.closePath();\n    ctx.stroke();\n    callback(null, ctx.canvas.toDataURL());\n  },\n\n  _renderMarker: function(ctx, symbol, callback) {\n    var xoffset = 0;\n    var yoffset = 0;\n    var size = symbol.size;\n    var r, rx, ry;\n\n    ctx.beginPath();\n\n    if (symbol.outline) {\n      ctx.strokeStyle = this._formatColor(symbol.outline.color);\n      ctx.lineWidth = symbol.outline.width;\n      xoffset += symbol.outline.width;\n      yoffset += symbol.outline.width;\n    }\n\n    this._setRotation(ctx, symbol.angle);\n\n    switch (symbol.style) {\n      case 'esriSMSCircle':\n        ctx.fillStyle = this._formatColor(symbol.color);\n        r = (size - 2 * xoffset) / 2;\n        ctx.arc(r + xoffset, r + xoffset, r, 0, 2 * Math.PI, false);\n        ctx.fill();\n        break;\n\n      case 'esriSMSX':\n        ctx.moveTo(xoffset, yoffset);\n        ctx.lineTo(size - xoffset, size - yoffset);\n        ctx.moveTo(size - xoffset, yoffset);\n        ctx.lineTo(xoffset, size - yoffset);\n        break;\n\n      case 'esriSMSCross':\n        ctx.moveTo(xoffset, size / 2);\n        ctx.lineTo(size - xoffset, size / 2);\n        ctx.moveTo(size / 2, yoffset);\n        ctx.lineTo(size / 2, size - yoffset);\n        break;\n\n      case 'esriSMSDiamond':\n        ctx.fillStyle = this._formatColor(symbol.color);\n        rx = (size - 2 * xoffset) / 2;\n        ry = (size - 2 * yoffset) / 2;\n\n        ctx.moveTo(xoffset, yoffset + ry);\n        ctx.lineTo(xoffset + rx, yoffset);\n        ctx.lineTo(xoffset + rx * 2, yoffset + ry);\n        ctx.lineTo(xoffset + rx, yoffset + 2 * ry);\n        ctx.lineTo(xoffset, yoffset + ry);\n        ctx.fill();\n        break;\n\n      case 'esriSMSSquare':\n        ctx.rect(xoffset, yoffset, size - 2 * xoffset, size - 2 * yoffset);\n        break;\n\n      case 'esriSMSTriangle':\n        ctx.fillStyle = this._formatColor(symbol.color);\n        rx = (size - 2 * xoffset) / 2;\n        ry = (size - 2 * yoffset) / 2;\n        ctx.moveTo(xoffset, yoffset + ry * 2);\n        ctx.lineTo(xoffset + rx, yoffset);\n        ctx.lineTo(xoffset + rx * 2, yoffset + ry * 2);\n        ctx.lineTo(xoffset, yoffset + ry * 2);\n        ctx.fill();\n        break;\n\n      default:\n        throw new Error('Unknown esriSMS style: ' + symbol.style);\n    }\n\n    ctx.closePath();\n    if (symbol.outline) {\n      ctx.stroke();\n    }\n    callback(null, ctx.canvas.toDataURL());\n  },\n\n  _renderImageFill: function(ctx, symbol, callback) {\n    this._setRotation(ctx, symbol.angle);\n    if (symbol.imageData) {\n      this._fillImage(ctx, symbol.imageData, symbol, symbol.contentType);\n      callback(null, ctx.toDataURL());\n    } else {\n      this._loadImage(symbol.url, function(err, image) {\n        this._fillImage(ctx, null, symbol, symbol.contentType, image);\n        callback(null, ctx.canvas.toDataURL());\n      }, this);\n    }\n  },\n\n  _renderImageMarker: function(ctx, symbol, callback) {\n    this._setRotation(ctx, symbol.angle);\n    if (symbol.imageData) {\n      this._drawImage(ctx, symbol.imageData, symbol.contentType);\n      callback(null, ctx.toDataURL());\n    } else {\n      this._loadImage(symbol.url, function(err, image) {\n        ctx.drawImage(image, 0, 0);\n        callback(null, ctx.canvas.toDataURL());\n      }, this);\n    }\n  },\n\n  _setSize: function(ctx, symbol) {\n    if (symbol.size) {\n      ctx.width = ctx.height = symbol.size;\n    } else if (symbol.type === 'esriSLS' ||\n      symbol.type === 'esriSFS') {\n      ctx.width = ctx.height = EsriLeaflet.Legend.SymbolRenderer.DEFAULT_SIZE;\n    } else {\n      ctx.width = symbol.width;\n      ctx.height = symbol.height;\n    }\n  },\n\n  _setRotation: function(ctx, angle) {\n    ctx.rotate(-parseFloat(angle) * Math.PI / 180);\n  },\n\n  _setDashArray: function(ctx, symbol) {\n    var dashArray = this._formatDashArray(symbol);\n    if (dashArray.length) {\n      ctx.setLineDash(dashArray);\n    }\n  },\n\n  _drawCross: function(ctx, xoffset, yoffset, size) {\n    ctx.moveTo(xoffset, yoffset);\n    ctx.lineTo(size - xoffset, size - yoffset);\n    ctx.moveTo(size - xoffset, yoffset);\n    ctx.lineTo(xoffset, size - yoffset);\n  },\n\n  _hatchCanvas: function(ctx, size, color, width, offset) {\n    var w = size * 2;\n    var h = size * 2;\n\n    for (var i = -w; i < w; i += offset) {\n      ctx.moveTo(i, -h);\n      ctx.lineTo(i, h);\n    }\n\n    ctx.lineWidth = width;\n    ctx.strokeStyle = this._formatColor(color);\n    ctx.stroke();\n  },\n\n  _formatColor: function(color) {\n    return 'rgba(' + color.slice(0, 3).join(',') + ',' + color[3] / 255 + ')';\n  },\n\n  _formatDashArray: function(symbol) {\n    var dashValues = [];\n\n    switch (symbol.style) {\n      case 'esriSLSDash':\n        dashValues = [4, 3];\n        break;\n      case 'esriSLSDot':\n        dashValues = [1, 3];\n        break;\n      case 'esriSLSDashDot':\n        dashValues = [8, 3, 1, 3];\n        break;\n      case 'esriSLSDashDotDot':\n        dashValues = [8, 3, 1, 3, 1, 3];\n        break;\n    }\n\n    //use the dash values and the line weight to set dash array\n    if (dashValues.length > 0) {\n      for (var i = 0, len = dashValues.length; i < len; i++) {\n        dashValues[i] *= symbol.width;\n      }\n    }\n\n    return dashValues;\n  },\n\n  _getImageData: function(ctx, symbol) {\n    return ctx.toDImageData(0, 0, symbol.width, symbol.height);\n  },\n\n  _fillImage: function(ctx, imageData, symbol, contentType, image) {\n    var size = L.esri.Legend.DEFAULT_SIZE;\n    var w = symbol.width || size;\n    var h = symbol.height || size;\n    if (imageData) {\n      image = new Image();\n      image.src = 'data:' + contentType + ';base64,' + imageData;\n    }\n\n    var pattern = ctx.createPattern(image, 'repeat');\n    ctx.rect(0, 0, w, h);\n    ctx.fillStyle = pattern;\n    ctx.fill();\n\n    if (symbol.outline) {\n      ctx.strokeStyle = this._formatColor(symbol.outline.color);\n      ctx.lineWidth = symbol.outline.width;\n      ctx.fillStyle = this._formatColor([0, 0, 0, 0]);\n      this._setDashArray(ctx, symbol.outline);\n      ctx.rect(symbol.outline.width, symbol.outline.width,\n        w - symbol.outline.width, h - symbol.outline.width);\n      ctx.stroke();\n    }\n  },\n\n  _drawImage: function(ctx, imageData, contentType) {\n    var image = new Image();\n    image.src = 'data:' + contentType + ';base64,' + imageData;\n    ctx.drawImage(image, 0, 0);\n  },\n\n  _loadImage: function(url, callback, context) {\n    var image = new Image();\n    image.crossOrigin = '';\n    image.onload = function() {\n      callback.call(context, null, this);\n    };\n    image.onerror = function(e) {\n      callback.call(context, {\n        code: 500\n      });\n    };\n    image.src = url + (url.indexOf('?') === -1 ? '?' : '&') +\n      'nc=' + (new Date()).getTime();\n  }\n\n});\n","EsriLeaflet.DynamicMapLayer.include({\n\n  legend: function(callback, context) {\n    return this.service.legend(callback, context);\n  }\n\n});\n","EsriLeaflet.FeatureLayer.include({\n\n  legend: function(callback, context) {\n    return this.service.legend(callback, context);\n  }\n\n});\n","EsriLeaflet.LegendControl = L.Control.extend({\n\n  options: {\n    listTemplate: '<ul>{layers}</ul>',\n    layerTemplate: '<li><strong>{layerName}</strong><ul>{legends}</ul></li>',\n    listRowTemplate: '<li><img width=\"{width}\" height=\"{height}\" src=\"data:{contentType};base64,{imageData}\"><span>{label}</span></li>',\n    emptyLabel: '<all values>',\n    container: null\n  },\n\n  initialize: function(layers, options) {\n    this._layers = L.Util.isArray(layers) ? layers : [layers];\n    L.Control.prototype.initialize.call(this, options);\n  },\n\n  onAdd: function(map) {\n    var container = this.options.container ||\n        L.DomUtil.create('div', 'leaflet-legend-control leaflet-bar');\n    L.DomEvent\n      .disableScrollPropagation(container)\n      .disableClickPropagation(container);\n\n    if (this._layers.length) {\n      this._load();\n    }\n    return container;\n  },\n\n  _load: function() {\n    L.esri.Util.reduce(this._layers, {\n      layers: []\n    }, function(curr, layer, cb) {\n      layer.legend(function(err, legend) {\n        if (err) {\n          return cb(err, curr);\n        }\n        curr.layers = curr.layers.concat(legend.layers);\n        cb(null, curr);\n      });\n    }, this._onLoad, this);\n  },\n\n  _onLoad: function(error, legend) {\n    if (!error) {\n      var layersHtml = '';\n      for (var i = 0, len = legend.layers.length; i < len; i++) {\n        var layer = legend.layers[i];\n        var legendsHtml = '';\n        for (var j = 0, jj = layer.legend.length; j < jj; j++) {\n          var layerLegend = JSON.parse(JSON.stringify(layer.legend[j]));\n          this._validateLegendLabel(layerLegend);\n          legendsHtml += L.Util.template(this.options.listRowTemplate, layerLegend);\n        }\n        layersHtml += L.Util.template(this.options.layerTemplate, {\n          layerName: layer.layerName,\n          legends: legendsHtml\n        });\n      }\n      this._container.innerHTML = L.Util.template(this.options.listTemplate, {\n        layers: layersHtml\n      });\n    }\n  },\n\n  _validateLegendLabel: function(layerLegend) {\n    if (!layerLegend.label && this.options.emptyLabel) {\n      layerLegend.label = this.options.emptyLabel;\n    }\n    layerLegend.label = layerLegend.label.replace(/&/g, '&amp;')\n      .replace(/\"/g, '&quot;')\n      .replace(/'/g, '&#39;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n  }\n\n});\n\nEsriLeaflet.legendControl = function(layers, options) {\n  return new L.esri.LegendControl(layers, options);\n};\n"]}